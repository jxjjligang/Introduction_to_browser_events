<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="carousel.css">
</head>

<body>

    <div id="carousel" class="carousel">
        <button class="arrow prev">⇦</button>
        <div class="gallery" id="divGallery">
            <ul class="images" id="ulImages">
                <li><img src="https://en.js.cx/carousel/1.png"></li>
                <li><img src="https://en.js.cx/carousel/2.png"></li>
                <li><img src="https://en.js.cx/carousel/3.png"></li>
                <li><img src="https://en.js.cx/carousel/4.png"></li>
                <li><img src="https://en.js.cx/carousel/5.png"></li>
                <li><img src="https://en.js.cx/carousel/6.png"></li>
                <li><img src="https://en.js.cx/carousel/7.png"></li>
                <li><img src="https://en.js.cx/carousel/8.png"></li>
                <li><img src="https://en.js.cx/carousel/9.png"></li>
                <li><img src="https://en.js.cx/carousel/10.png"></li>
            </ul>
        </div>
        <button class="arrow next">⇨</button>
    </div>

    <script>
        let prevIndex = 0;
        let totalImages = ulImages.getElementsByTagName('LI').length;
        let buttons = document.querySelectorAll('.arrow');
        let nxtBtnindex = buttons[0].classList.contains('next') ? 0 : 1;
        let preBtnindex = buttons[0].classList.contains('prev') ? 0 : 1;
        let prevBtn = buttons[preBtnindex], nextBtn = buttons[nxtBtnindex];

        buttons.forEach(btn => btn.onclick = onBtnClick);

        function onBtnClick() {
            let isNext = this.classList.contains('next');
            if (isNext && prevBtn.disabled)
                prevBtn.disabled = false;
            if (!isNext && nextBtn.disabled)
                nextBtn.disabled = false;

            let nextIndex = isNext ? (prevIndex + 3) : prevIndex - 3;
            nextIndex = Math.max(0, nextIndex);
            nextIndex = Math.min(totalImages - 3, nextIndex);
            if (nextIndex === prevIndex) {
                this.disabled = true;
                return;
            }
            else {
                ulImages.style.marginLeft = (0 - nextIndex * 130) + 'px';
                prevIndex = nextIndex;
            }
        }

    </script>

</body>

</html>